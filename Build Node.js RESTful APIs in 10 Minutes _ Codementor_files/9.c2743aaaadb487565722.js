webpackJsonp([9],{1053:function(e,t,r){"use strict";function n(e,t){var r=o.document.createElement("input");r.setAttribute("value",e),o.document.body.appendChild(r),r.select(),o.document.execCommand("copy"),o.document.body.removeChild(r),t&&t()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=r(5)},1054:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{onboarding:e.communityOnboarding}}Object.defineProperty(t,"__esModule",{value:!0}),t.OnboardingContainer=void 0;var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=n(u),p=r(44),f=r(2),d=r(7),m=r(92),h=r(397),y=r(1055),_=n(y),v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this._openModal()}},{key:"render",value:function(){var e=this.props,t=e.onboarding,r=e.followUser,n=e.unfollowUser,o=e.completeOnboarding,i=e.followCategoriesAndGetAuthors,a=e.onClose,s=e.onComplete;return c.default.createElement(_.default,{suggestedAuthors:t.get("suggestedAuthors"),loadingAuthors:t.get("loadingAuthors"),followAuthor:r,unfollowAuthor:n,completeOnboarding:o,followCategoriesAndGetAuthors:i,onClose:a,onComplete:s,ref:"onboardingModal"})}},{key:"_openModal",value:function(){this.refs.onboardingModal.open()}}]),t}(u.Component);v.propTypes={onboarding:u.PropTypes.instanceOf(f.Map).isRequired,followUser:u.PropTypes.func.isRequired,unfollowUser:u.PropTypes.func.isRequired,followCategoriesAndGetAuthors:u.PropTypes.func.isRequired,completeOnboarding:u.PropTypes.func.isRequired,onClose:u.PropTypes.func,onComplete:u.PropTypes.func},t.OnboardingContainer=v,t.default=(0,p.connect)(s,{followUser:m.followUser,unfollowUser:m.unfollowUser,followCategoriesAndGetAuthors:h.followCategoriesAndGetAuthors,completeOnboarding:h.completeOnboarding})((0,d.withRouter)(v))},1055:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ONBOARDING_STEPS=void 0;var l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(0),p=n(c),f=r(46),d=n(f),m=r(2),h=r(1056),y=n(h),_=r(1057),v=n(_),g=t.ONBOARDING_STEPS=["followCategories","followAuthors"],b=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._onSubmit=r._onSubmit.bind(r),r._onInputChange=r._onInputChange.bind(r),r._onModalClosed=r._onModalClosed.bind(r),r.state={categories:[],currentStep:g[0]},r}return s(t,e),u(t,[{key:"open",value:function(){this.refs.modal.open()}},{key:"render",value:function(){var e=this._getContentByState(),t=e.title,r=e.leadParagraph,n=e.positiveText,o=e.children;return p.default.createElement(d.default,{ref:"modal",title:t,leadParagraph:r,positiveText:n,onPositive:this._onSubmit,onClose:this._onModalClosed,className:"community-onboarding-modal"},o)}},{key:"_onSubmit",value:function(){var e=this.state,t=e.currentStep,r=e.categories,n=this.props.followCategoriesAndGetAuthors;g[0]===t?(n({categoryUrlStrings:r}),this._goToNext()):(this._complete(),this._closeModal())}},{key:"_complete",value:function(){var e=this.props,t=e.completeOnboarding,r=e.onComplete;r&&r(),t()}},{key:"_closeModal",value:function(){var e=this.refs.modal;e&&e.close()}},{key:"_onModalClosed",value:function(){var e=this.props.onClose;e&&e()}},{key:"_onInputChange",value:function(e){var t=this;return function(r){t.setState(o({},e,r))}}},{key:"_goToNext",value:function(){this.setState({currentStep:g[1]})}},{key:"_getContentByState",value:function(){var e=this.state.currentStep,t=this.props,r=t.followAuthor,n=t.unfollowAuthor,o=t.suggestedAuthors,i=t.loadingAuthors;switch(e){case g[0]:return{title:"Choose topics you’re interested in",leadParagraph:"We’ll use this to build a personalized reading list for you.",positiveText:"go to last step",children:l(y.default,{onChange:this._onInputChange("categories")})};case g[1]:return{title:"Follow writers",leadParagraph:"We’ll add their posts to your reading list.",positiveText:"finish",children:l(v.default,{isLoading:i,authorList:o,followAuthor:r,unfollowAuthor:n})}}}}]),t}(c.Component);b.propTypes={suggestedAuthors:c.PropTypes.instanceOf(m.List).isRequired,followCategoriesAndGetAuthors:c.PropTypes.func.isRequired,followAuthor:c.PropTypes.func.isRequired,unfollowAuthor:c.PropTypes.func.isRequired,completeOnboarding:c.PropTypes.func.isRequired,loadingAuthors:c.PropTypes.bool.isRequired,onClose:c.PropTypes.func,onComplete:c.PropTypes.func},t.default=b},1056:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(0),p=n(c),f=r(6),d=n(f),m=r(143),h=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._selectCategory=r._selectCategory.bind(r),r._updateSearchKeyword=r._updateSearchKeyword.bind(r),r.state={searchKeyword:"",selected:[]},r}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.search&&setTimeout(function(){return e.search.focus()})}},{key:"render",value:function(){var e=this,t=this._getCategories(),r=this.state,n=r.selected,o=r.searchKeyword;return l("div",{className:"community-onboarding__categories"},void 0,l("div",{className:"category__section"},void 0,l("div",{className:"category__search"},void 0,p.default.createElement("input",{ref:function(t){return e.search=t},placeholder:"Search",onChange:this._updateSearchKeyword})),l("div",{className:"category__selected-count"},void 0,this._shouldRenderSelectedCount()&&n.length+" selected")),l("div",{className:"category__list"},void 0,t.length?this._renderCategoryList(t):l("div",{},void 0,'No results for "'+o+'", try something else?')))}},{key:"_shouldRenderSelectedCount",value:function(){var e=this.state,t=e.searchKeyword,r=e.selected;return t&&r.length>0}},{key:"_renderCategoryList",value:function(e){var t=this;return e.map(function(e){var r,n=e.text,i=e.value,a=e.className,s=t._checkSelected({value:i}),u=(0,d.default)("category__list__item",{"category__list__item--active":s}),c=(0,d.default)((r={},o(r,a+"_color",s),o(r,a+"_grey",!s),r));return l("div",{className:u,onClick:t._selectCategory(i)},i,l("div",{className:c}),n)})}},{key:"_updateSearchKeyword",value:function(e){this.setState({searchKeyword:e.target.value})}},{key:"_getCategories",value:function(){var e=this.state.searchKeyword;return m.ONBOARDING_TOPICS.filter(function(t){var r=t.text,n=t.value,o=r.includes(e),i=n.includes(e);return o||i})}},{key:"_checkSelected",value:function(e){var t=e.value;return-1!==this._getTargetIndex(t)}},{key:"_selectCategory",value:function(e){var t=this;return function(){var r=t.state.selected,n=t._getTargetIndex(e);-1!==n?r.splice(n,1):r.push(e),t.setState({selected:r}),t.props.onChange(r)}}},{key:"_getTargetIndex",value:function(e){return this.state.selected.findIndex(function(t){return t===e})}}]),t}(c.Component);h.propTypes={onChange:c.PropTypes.func.isRequired},t.default=h},1057:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(2)),p=r(141),f=r(113),d=n(f),m=r(22),h=n(m),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.isLoading,n=t.authorList;return s(d.default,{isLoading:r},void 0,s("div",{className:"community-onboarding__writers"},void 0,s("div",{className:"writers__list"},void 0,n.map(function(t){return e._renderAuthor(t)}))))}},{key:"_renderAuthor",value:function(e){var t=e.get("smallAvatarUrl"),r=e.get("headline");return s("div",{className:"writers__list__item"},e.get("username"),s(h.default,{imgUrl:t,userName:e.get("name"),componentClass:"author"}),s("div",{className:"writer__title"},void 0,e.get("name")),s("div",{className:"writer__headline",title:r},void 0,(0,p.truncate)(r,46,!0)),s("div",{className:"writer__follower"},void 0,e.get("followingCount")," followers"),e.get("following")?s("div",{className:"btn-primary",onClick:this._unfollow(e)},void 0,"Following"):s("div",{className:"btn-primary--outline",onClick:this._follow(e)},void 0,"Follow"))}},{key:"_follow",value:function(e){var t=e.get("username"),r=this.props.followAuthor;return function(){r({username:t})}}},{key:"_unfollow",value:function(e){var t=e.get("username"),r=this.props.unfollowAuthor;return function(){r({username:t})}}},{key:"_updateFollowStatus",value:function(e){var t=e.username,r=e.following,n=this.state.authors,o=n.findIndex(function(e){return e.get("username")===t});-1!==o&&this.setState({authors:n.setIn([o,"following"],r)})}}]),t}(u.Component);y.propTypes={authorList:u.PropTypes.instanceOf(c.List).isRequired,isLoading:u.PropTypes.bool.isRequired,followAuthor:u.PropTypes.func,unfollowAuthor:u.PropTypes.func},t.default=y},1062:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(0),p=n(c),f=r(1063),d=n(f),m=r(1064),h=n(m),y=r(1066),_=n(y),v=function(){},g=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setHeightOffset=function(){r.setState({height:r.refs.inner.offsetHeight})},r.getScrollY=function(){return void 0!==r.props.parent().pageYOffset?r.props.parent().pageYOffset:void 0!==r.props.parent().scrollTop?r.props.parent().scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},r.getViewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},r.getDocumentHeight=function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,e.clientHeight,t.clientHeight)},r.getElementPhysicalHeight=function(e){return Math.max(e.offsetHeight,e.clientHeight)},r.getElementHeight=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},r.getScrollerPhysicalHeight=function(){var e=r.props.parent();return e===window||e===document.body?r.getViewportHeight():r.getElementPhysicalHeight(e)},r.getScrollerHeight=function(){var e=r.props.parent();return e===window||e===document.body?r.getDocumentHeight():r.getElementHeight(e)},r.isOutOfBound=function(e){var t=e<0,n=r.getScrollerPhysicalHeight(),o=r.getScrollerHeight(),i=e+n>o;return t||i},r.handleScroll=function(){r.ticking||(r.ticking=!0,(0,h.default)(r.update))},r.unpin=function(){r.props.onUnpin(),r.setState({translateY:"-100%",className:"headroom headroom--unpinned"},function(){setTimeout(function(){r.setState({state:"unpinned"})},0)})},r.pin=function(){r.props.onPin(),r.setState({translateY:0,className:"headroom headroom--pinned",state:"pinned"})},r.unfix=function(){r.props.onUnfix(),r.setState({translateY:0,className:"headroom headroom--unfixed",state:"unfixed"})},r.update=function(){if(r.currentScrollY=r.getScrollY(),!r.isOutOfBound(r.currentScrollY)){var e=(0,_.default)(r.lastKnownScrollY,r.currentScrollY,r.props,r.state),t=e.action;"pin"===t?r.pin():"unpin"===t?r.unpin():"unfix"===t&&r.unfix()}r.lastKnownScrollY=r.currentScrollY,r.ticking=!1},r.currentScrollY=0,r.lastKnownScrollY=0,r.ticking=!1,r.state={state:"unfixed",translateY:0,className:"headroom headroom--unfixed"},r}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.setHeightOffset(),this.props.disable||this.props.parent().addEventListener("scroll",this.handleScroll)}},{key:"componentWillReceiveProps",value:function(e){e.disable&&!this.props.disable?(this.unfix(),this.props.parent().removeEventListener("scroll",this.handleScroll)):!e.disable&&this.props.disable&&this.props.parent().addEventListener("scroll",this.handleScroll)}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,d.default)(this.props,e)||!(0,d.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){e.children!==this.props.children&&this.setHeightOffset()}},{key:"componentWillUnmount",value:function(){this.props.parent().removeEventListener("scroll",this.handleScroll),window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=o(this.props,[]);delete e.onUnpin,delete e.onPin,delete e.onUnfix,delete e.disableInlineStyles,delete e.disable,delete e.parent,delete e.children,delete e.upTolerance,delete e.downTolerance,delete e.pinStart;var t=e.style,r=e.wrapperStyle,n=o(e,["style","wrapperStyle"]),i={position:this.props.disable||"unfixed"===this.state.state?"relative":"fixed",top:0,left:0,right:0,zIndex:1,WebkitTransform:"translateY("+this.state.translateY+")",MsTransform:"translateY("+this.state.translateY+")",transform:"translateY("+this.state.translateY+")"},a=this.state.className;"unfixed"!==this.state.state&&(i=l({},i,{WebkitTransition:"all .2s ease-in-out",MozTransition:"all .2s ease-in-out",OTransition:"all .2s ease-in-out",transition:"all .2s ease-in-out"}),a+=" headroom--scrolled"),i=this.props.disableInlineStyles?t:l({},i,t);var s=l({},r,{height:this.state.height?this.state.height:null});return p.default.createElement("div",{style:s,className:"headroom-wrapper"},p.default.createElement("div",l({ref:"inner"},n,{style:i,className:a}),this.props.children))}}]),t}(c.Component);g.propTypes={parent:c.PropTypes.func,children:c.PropTypes.any.isRequired,disableInlineStyles:c.PropTypes.bool,disable:c.PropTypes.bool,upTolerance:c.PropTypes.number,downTolerance:c.PropTypes.number,onPin:c.PropTypes.func,onUnpin:c.PropTypes.func,onUnfix:c.PropTypes.func,wrapperStyle:c.PropTypes.object,pinStart:c.PropTypes.number,style:c.PropTypes.object},g.defaultProps={parent:function(){return window},disableInlineStyles:!1,disable:!1,upTolerance:5,downTolerance:0,onPin:v,onUnpin:v,onUnfix:v,wrapperStyle:{},pinStart:0},t.default=g},1063:function(e,t,r){e.exports=r(4)(579)},1064:function(e,t,r){(function(t){for(var n=r(1065),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],l=o["cancel"+a]||o["cancelRequest"+a],u=0;!s&&u<i.length;u++)s=o[i[u]+"Request"+a],l=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!s||!l){var c=0,p=0,f=[];s=function(e){if(0===f.length){var t=n(),r=Math.max(0,1e3/60-(t-c));c=r+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(r))}return f.push({handle:++p,callback:e,cancelled:!1}),p},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=s,o.cancelAnimationFrame=l}}).call(t,r(38))},1065:function(e,t,r){(function(t){(function(){var r,n,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(r()-o)/1e6},n=t.hrtime,r=function(){var e;return e=n(),1e9*e[0]+e[1]},o=r()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,r(91))},1066:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t>=e?"down":"up",i=Math.abs(t-e);return r.disable?{action:"none",scrollDirection:o,distanceScrolled:i}:t<=r.pinStart&&"unfixed"!==n.state?{action:"unfix",scrollDirection:o,distanceScrolled:i}:t<=n.height&&"down"===o&&"unfixed"===n.state?{action:"none",scrollDirection:o,distanceScrolled:i}:"down"===o&&["pinned","unfixed"].indexOf(n.state)>=0&&t>n.height+r.pinStart&&i>r.downTolerance?{action:"unpin",scrollDirection:o,distanceScrolled:i}:"up"===o&&i>r.upTolerance&&["pinned","unfixed"].indexOf(n.state)<0?{action:"pin",scrollDirection:o,distanceScrolled:i}:"up"===o&&t<=n.height&&["pinned","unfixed"].indexOf(n.state)<0?{action:"pin",scrollDirection:o,distanceScrolled:i}:{action:"none",scrollDirection:o,distanceScrolled:i}}},1067:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=n(u),p=r(6),f=n(p),d=s("i",{className:"fa fa-search","aria-hidden":"true"}),m=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._expandSearchInput=r._expandSearchInput.bind(r),r._resetSearchInput=r._resetSearchInput.bind(r),r._onSearchKeyPress=r._onSearchKeyPress.bind(r),r._onChange=r._onChange.bind(r),r.state={isSearchExpanded:!1,searchKeyword:""},r}return a(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.state,r=t.isSearchExpanded,n=t.searchKeyword,o=(0,f.default)("menu-search",{"menu-search--expand":r});return s("div",{className:o},void 0,s("div",{className:"menu-search__trigger",onClick:this._expandSearchInput},void 0,d),c.default.createElement("input",{type:"text",value:n,ref:function(t){return e.searchInput=t},onBlur:this._resetSearchInput,onChange:this._onChange,onKeyPress:this._onSearchKeyPress,placeholder:"Search post"}))}},{key:"_onChange",value:function(e){this.setState({searchKeyword:e.target.value})}},{key:"_onSearchKeyPress",value:function(e){var t=e&&"Enter"===e.key,r=this.props.onSearch,n=this.state.searchKeyword;t&&(r({keyword:n}),this._resetSearchInput())}},{key:"_expandSearchInput",value:function(){var e=this.searchInput;this.setState({isSearchExpanded:!0}),e&&e.focus()}},{key:"_resetSearchInput",value:function(){this.setState({isSearchExpanded:!1,searchKeyword:""})}}]),t}(u.Component);m.propTypes={onSearch:u.PropTypes.func.isRequired},t.default=m},1076:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(2)),p=r(23),f=n(p),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props.article,t=e.get("publishedAt");return s("div",{className:"article__header__timestamps"},void 0,t>0&&s("small",{className:"publish-date"},void 0,"Published ",f.default.unix(t).format("MMM DD, YYYY")),this._notTheSameDay()&&s("small",{className:"updated-at"},void 0,"Last updated ",f.default.unix(e.get("updatedAt")).format("MMM DD, YYYY")))}},{key:"_notTheSameDay",value:function(){var e=this.props.article,t=f.default.unix(e.get("publishedAt")),r=f.default.unix(e.get("updatedAt"));return!t.isSame(r,"day")}}]),t}(u.Component);d.propTypes={article:u.PropTypes.instanceOf(c.Map).isRequired},t.default=d},1077:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{subscription:e.subscription}}Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeWidgetContainer=void 0;var l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(0),p=(n(c),r(2)),f=r(44),d=r(7),m=r(5),h=r(1138),y=n(h),_=r(408),v=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._createSubscriber=r._createSubscriber.bind(r),r}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.subscription;return l(y.default,{isSending:e.get("isSending"),creationSuccess:e.get("creationSuccess"),onSubmit:this._createSubscriber})}},{key:"_createSubscriber",value:function(e){var t=e.email,r=this.props.createSubscriber;if(m.window){r({email:t,referrerUrl:m.window.location.pathname})}}}]),t}(c.Component);v.propTypes={subscription:c.PropTypes.instanceOf(p.Map).isRequired,createSubscriber:c.PropTypes.func.isRequired},t.SubscribeWidgetContainer=v,t.default=(0,f.connect)(s,{createSubscriber:_.createSubscriber})((0,d.withRouter)(v))},1136:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(2)),p=r(391),f=n(p),d=r(141),m=r(22),h=n(m),y=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._follow=r._follow.bind(r),r}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.user,r=e.minimized,n=e.viewBySelf,o=r?t.get("smallAvatarUrl"):t.get("avatarUrl");return s("div",{className:r?"article__author article__author--minimized":"article__author"},void 0,s("div",{className:"author__avatar"},void 0,s("a",{href:"/"+t.get("username")},void 0,s(h.default,{imgUrl:o,userName:t.get("name"),componentClass:"author"}))),s("div",{className:"author__content"},void 0,s("div",{className:"author__name"},void 0,s("a",{href:"/"+t.get("username")},void 0,t.get("name"))),s("div",{className:"author__headline",title:t.get("headline")},void 0,t.get("headline")),!r&&s(f.default,{properties:{target:"_blank"}},void 0,s("div",{className:"author__desc"},void 0,(0,d.truncate)(t.get("about"),230,!0))),this._shouldShowEditBioLink()&&s("a",{className:"author__edit-intro",href:"/"+t.get("username")},void 0,t.get("headline")?"Edit my bio":"Add my headline and bio")),n?null:this._renderAction())}},{key:"_shouldShowEditBioLink",value:function(){var e=this.props,t=e.minimized;return e.viewBySelf&&(this._withoutHeadline()||!t)}},{key:"_withoutHeadline",value:function(){return!this.props.user.get("headline")}},{key:"_renderAction",value:function(){var e=this.props,t=e.following,r=e.unfollowAuthor;return e.noActions?null:s("div",{className:"author__action"},void 0,t?s("div",{className:"btn-primary",onClick:r},void 0,"Following"):s("div",{className:"btn-primary--outline",onClick:this._follow},void 0,"Follow"))}},{key:"_follow",value:function(){(0,this.props.followAuthor)()}}]),t}(u.Component);y.propTypes={user:u.PropTypes.instanceOf(c.Map).isRequired,viewBySelf:u.PropTypes.bool.isRequired,minimized:u.PropTypes.bool.isRequired,noActions:u.PropTypes.bool.isRequired,following:u.PropTypes.bool,followAuthor:u.PropTypes.func,unfollowAuthor:u.PropTypes.func},y.defaultProps={minimized:!1,following:!1,viewBySelf:!1,noActions:!1},t.default=y},1137:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(1053)),p=n(c),f=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._copyLink=r._copyLink.bind(r),r.state={shareLinkButtonText:e.buttonText},r}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props.link,t=this.state.shareLinkButtonText;return s("div",{className:"share-link"},void 0,s("input",{readOnly:!0,value:e}),s("div",{className:"btn-primary",onClick:this._copyLink},void 0,t))}},{key:"_copyLink",value:function(){var e=this,t=this.props.link;(0,p.default)(t,function(){e.setState({shareLinkButtonText:"copied!"})})}}]),t}(u.Component);f.propTypes={link:u.PropTypes.string.isRequired,buttonText:u.PropTypes.string.isRequired},f.defaultProps={buttonText:"copy"},t.default=f},1138:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(6)),p=n(c),f=r(149),d=n(f),m=r(15),h=n(m),y=r(395),_=n(y),v=s("p",{},void 0,"Look out for the confirmation email we just sent you"),g=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._onEmailChange=r._onEmailChange.bind(r),r._onSubmit=r._onSubmit.bind(r),r.state={email:"",emailValid:!1},r}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.isSending,r=e.creationSuccess,n=this.state.emailValid,o=(0,p.default)("btn-primary",{"btn-primary--disabled":!n,"btn-primary--submitting":t});return s("div",{className:"subscription-widget"},void 0,s(_.default,{src:(0,h.default)("Community/email-subscription.gif")}),s("h3",{},void 0,this._renderTitle()),r?v:s("form",{className:"subscription-widget__action"},void 0,s("input",{required:!0,type:"email",onChange:this._onEmailChange,placeholder:"Your email"}),s("button",{type:"submit",onClick:this._onSubmit,className:o},void 0,"subscribe")))}},{key:"_renderTitle",value:function(){return this.props.creationSuccess?"Check your inbox":"Subscribe to our weekly newsletter"}},{key:"_onEmailChange",value:function(e){var t=e.target.value||"";this.setState({email:t,emailValid:d.default.isEmail(t)})}},{key:"_onSubmit",value:function(e){e.preventDefault();var t=this.props,r=t.onSubmit,n=t.isSending,o=this.state,i=o.email;o.emailValid&&!n&&r({email:i})}}]),t}(u.Component);g.propTypes={onSubmit:u.PropTypes.func.isRequired,isSending:u.PropTypes.bool.isRequired,creationSuccess:u.PropTypes.bool.isRequired},t.default=g},1139:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(2)),p=r(37),f=r(15),d=n(f),m=r(22),h=n(m),y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.posts,r=(0,c.Map)({smallAvatarUrl:(0,d.default)("Icons/codementor-avatar.png"),name:"Contributor"});return s("div",{className:"article__related-posts"},void 0,!!t&&t.map(function(t){var n=t.get("author");return s("div",{className:"related-post"},(0,p.generateRandomId)(),n?e._renderAuthor(n):s("div",{className:"related-post__author"},void 0,s(h.default,{imgUrl:r.get("smallAvatarUrl"),componentClass:"related-post",userName:r.get("name")}),r.get("name")),s("div",{className:"related-post__title"},void 0,s("a",{href:e._getPostUrl({author:n,post:t})},void 0,t.get("title"))))}))}},{key:"_renderAuthor",value:function(e){return"mentor"===e.get("level")?s("a",{className:"related-post__author",href:"/"+e.get("username"),title:e.get("name")},void 0,s(h.default,{imgUrl:e.get("smallAvatarUrl"),componentClass:"related-post",userName:e.get("name")}),e.get("name")):s("div",{className:"related-post__author",title:e.get("name")},void 0,s(h.default,{imgUrl:e.get("smallAvatarUrl"),componentClass:"related-post",userName:e.get("name")}),e.get("name"))}},{key:"_getPostUrl",value:function(e){var t=e.author,r=e.post;return(this.props.isBlog?"/blog":"/"+t.get("username"))+"/"+r.get("urlString")+"-"+r.get("randomKey")}}]),t}(u.Component);y.propTypes={posts:u.PropTypes.instanceOf(c.List).isRequired,isBlog:u.PropTypes.bool.isRequired},y.defaultProps={isBlog:!1},t.default=y},1180:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(2)),p=r(390),f=n(p),d=r(3),m=n(d),h=r(23),y=n(h),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.article,r=e.author,n=t.get("title"),o=n?t.get("title")+" | Codementor":"Codementor",i=this._getArticleCanonicalUrl(),a=this._getArticleUrl();return s(f.default,{title:o,link:[{rel:"canonical",href:i},{rel:"publisher",href:"https://plus.google.com/+codementor"},{rel:"author",href:m.default.codementorHost+"/"+r.get("username")}],meta:[{name:"description",content:t.get("summary")},{name:"author",content:r.get("name")},{name:"referrer",content:"always"},{name:"robots",content:"index, follow"},{property:"og:type",content:"article"},{property:"og:title",content:o},{property:"og:url",content:a},{property:"og:image",content:t.get("coverPhotoUrl")},{property:"og:description",content:t.get("summary")},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:description",content:t.get("summary")},{property:"twitter:image:src",content:t.get("coverPhotoUrl")}],script:[{type:"application/ld+json",innerHTML:this._generateStructuredDataString()}]})}},{key:"_getArticleCanonicalUrl",value:function(){return this.props.article.get("sourceUrl")||this._getArticleUrl()}},{key:"_getArticleUrl",value:function(){var e=this.props,t=e.article,r=e.author;return m.default.codementorHost+"/"+r.get("username")+"/"+t.get("urlString")+"-"+t.get("randomKey")}},{key:"_generateStructuredDataString",value:function(){var e=this._generateBreadCrumbList(),t=this._generateArticleStructuredData(),r=[e,t];return JSON.stringify(r)}},{key:"_generateArticleStructuredData",value:function(){var e=this.props,t=e.article,r=e.author,n={"@context":"http://schema.org","@type":"Article",author:{"@type":"Person",name:r.get("name")},name:t.get("title"),headline:t.get("title"),image:{"@type":"ImageObject",url:t.get("coverPhotoUrl")},datePublished:y.default.unix(t.get("publishedAt")).toISOString(),dateModified:y.default.unix(t.get("updatedAt")).toISOString(),mainEntityOfPage:this._getArticleUrl(),description:t.get("summary")};return t.get("coverPhotoUrl")&&(n.image={"@type":"ImageObject",url:t.get("coverPhotoUrl")}),n}},{key:"_generateBreadCrumbList",value:function(){var e=this.props,t=e.article,r=e.author,n=this._getArticleUrl();return{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":m.default.codementorHost+"/"+r.get("username"),name:r.get("name"),image:r.get("username")}},{"@type":"ListItem",position:2,item:{"@id":m.default.codementorHost+"/"+r.get("username")+"/posts",name:"Posts",image:r.get("username")}},{"@type":"ListItem",position:3,item:{"@id":n,name:t.get("title"),image:t.get("coverPhotoUrl")}}]}}}]),t}(u.Component);_.propTypes={article:u.PropTypes.instanceOf(c.Map).isRequired,author:u.PropTypes.instanceOf(c.Map).isRequired},t.default=_},1181:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=n(u),p=r(2),f=r(6),d=n(f),m=r(22),h=n(m),y=r(74),_=n(y),v=s("div",{className:"markdown-hint"},void 0,s("strong",{},void 0,"**bold**"),s("i",{},void 0,"*italics*"),s("span",{},void 0,"> quote"),s("code",{},void 0,"`inline code`"),s("code",{},void 0,"```code block```")),g=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._onContentChange=r._onContentChange.bind(r),r._submit=r._submit.bind(r),r._cancel=r._cancel.bind(r),r.state={content:""},r}return a(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.currentContent,r=e.editMode;t&&r&&this.setState({content:t})}},{key:"focus",value:function(){var e=this.refs.input;e&&e.focus()}},{key:"render",value:function(){var e=this.props,t=e.currentUser,r=e.onClick,n=e.editMode,o=this.state.content,i=(0,d.default)("reply-form__content",{dirty:this._isContentValid()||n});return s("div",{className:"reply-form"},void 0,!n&&s(h.default,{imgUrl:t.get("smallAvatarUrl"),userName:t.get("name"),componentClass:"reply-form"}),s("div",{className:"reply-form__inputs"},void 0,c.default.createElement(_.default,{ref:"input",rows:2,placeholder:"Leave a reply",className:i,value:o,onClick:r,onChange:this._onContentChange}),s("div",{className:"reply-form__footer"},void 0,v,this._renderActions())))}},{key:"_renderActions",value:function(){var e=this.props.editMode,t=(0,d.default)("btn-primary",{"btn-primary--disabled":!this._isContentValid()});return s("div",{className:"reply-form__actions"},void 0,e&&s("div",{className:"reply-form__actions__cancel",onClick:this._cancel},void 0,"cancel"),s("div",{className:t,onClick:this._submit},void 0,"submit"))}},{key:"_isContentValid",value:function(){var e=this.state.content;return e&&e.trim()}},{key:"_submit",value:function(){var e=this.props.onSubmit,t=this.state.content;t&&(e({content:t.trim()}),this._resetInput())}},{key:"_cancel",value:function(){var e=this.props.onCancel;e&&e(),this._resetInput()}},{key:"_onContentChange",value:function(e){var t=e.target.value;this.setState({content:t})}},{key:"_resetInput",value:function(){this.setState({content:""})}}]),t}(u.Component);g.propTypes={currentUser:u.PropTypes.instanceOf(p.Map).isRequired,editMode:u.PropTypes.bool.isRequired,onSubmit:u.PropTypes.func.isRequired,currentContent:u.PropTypes.string,onCancel:u.PropTypes.func,onClick:u.PropTypes.func},g.defaultProps={editMode:!1},t.default=g},1359:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.COMMUNITY_EVENT={CLICK_FOLLOW_TOPICS:"ClickFollowTopics",OPEN_ONBOARDING:"OpenOboardingModal"}},1360:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DISCUSSION_TAG=t.FIXED_PROMPT=t.END_OF_ARTICLE=t.AUTHOR_BLOCK_REF=t.FIXED_BOTTOM_SUB_REF=void 0;var l,u=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=r(0),f=(n(p),r(2)),d=r(150),m=n(d),h=r(141),y=r(5),_=r(3),v=n(_),g=r(144),b=n(g),T=r(936),C=r(395),w=n(C),P=r(22),O=n(P),S=r(1136),A=n(S),k=r(1180),I=n(k),R=r(1076),E=n(R),N=r(1361),M=n(N),j=r(1362),L=n(j),q=r(1363),U=n(q),x=r(1364),H=n(x),W=t.FIXED_BOTTOM_SUB_REF="fixed-bottom-subscribe",B=t.AUTHOR_BLOCK_REF="author-block",D=t.END_OF_ARTICLE="end-of-artilce",F=t.FIXED_PROMPT="fixed-prompt",K=t.DISCUSSION_TAG="discussion",$=u("div",{className:"article__header__section"},void 0,u("div",{className:"article__header__label"},void 0,"Discussion")),V=u("div",{}),Y=u("div",{className:"article__read-more__wrapper"},void 0,u("div",{className:"article__read-more"},void 0,"read more")),G=u(U.default,{}),z=u("div",{className:"article__footer__separator"}),X=u("div",{className:"article__footer__separator"}),J=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._followAuthor=r._followAuthor.bind(r),r._starArticle=r._starArticle.bind(r),r._readArticle=r._readArticle.bind(r),r.state={hasReadArticle:!1,htmlContent:"",previewHtmlContent:""},r}return s(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this.props.article;e&&(this._parseMarkdown(e),this._parsePreviewContent(e))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isCurrent,r=e.article;t&&!r.get("isLoading")&&this._setReadingTimer()}},{key:"componentWillReceiveProps",value:function(e){var t=e.article,r=this.props.article.get("randomKey"),n=t.get("randomKey"),o=this.props.article.get("content"),i=t.get("content"),a=this.props.article.get("isLoading"),s=e.article.get("isLoading");a&&!s&&this._setReadingTimer(),r!==n&&n&&(this._goToTop(),this._resetReadStatus()),!o&&i&&this._parseMarkdown(e.article)}},{key:"componentWillUnmount",value:function(){this._readingTimer&&clearTimeout(this._readingTimer)}},{key:"render",value:function(){var e=this.state,t=e.htmlContent,r=e.previewHtmlContent,n=e.hasReadArticle,o=this.props,i=o.article,a=o.author,s=o.unstarArticle,l=o.isCurrent,c=o.isSuggestedArticle,p=o.setAsCurrentArticle,f=i.get("isLoading"),d=this._hasLoggedIn(),h=i.get("previewMode"),y=h&&!f;return u("div",{},void 0,l&&u(I.default,{author:a,article:i}),u("div",{className:"article__container"},void 0,u("div",{className:"article__header"},void 0,this._isDiscussion()&&$,c&&u("div",{className:"article__header__section"},void 0,u("div",{className:"article__header__author"},void 0,u(O.default,{imgUrl:a.get("smallAvatarUrl"),userName:a.get("name"),componentClass:"article__header"}),a.get("name"))),u("h1",{},void 0,i.get("title")),u("div",{className:"article__header__section space-between"},void 0,i.get("updatedAt")?u(E.default,{article:i}):V),!l&&!h&&u("div",{className:"article__observer top"},void 0,u(m.default,{onEnter:p}))),u(w.default,{className:"article__cover-photo",alt:i.get("title"),src:i.get("coverPhotoUrl")}),y&&u("div",{className:"article__body"},void 0,u("div",{className:"article__summary",onClick:p},void 0,u("div",{className:"article__content",dangerouslySetInnerHTML:{__html:r}}),Y)),f?G:u("div",{},void 0,u("div",{className:"article__body"},void 0,u("div",{className:"article__content",dangerouslySetInnerHTML:{__html:t}})))),!f&&!h&&this._renderFooter(),!d&&l&&u(L.default,{author:a,isDiscussion:this._isDiscussion(),onClick:this._followAuthor(W)}),l&&u(M.default,{fixedBottomRight:!0,showShareButton:!1,author:a,hasLoggedIn:d,hasReadArticle:n,uniqueCommentAnchor:this._getUniqueCommentAnchor(),attemptToWriteComment:this._attemptToWriteComment({ref:F,type:T.ARTICLE_EVENT.CLICK_COMMENT}),star:this._starArticle(F),unstar:s,starred:i.get("starred"),starCount:i.get("starCount"),commentCount:i.get("commentCount")}))}},{key:"_getUniqueCommentAnchor",value:function(){return"comments-"+this.props.article.get("randomKey")}},{key:"_renderFooter",value:function(){var e=this.props,t=e.article,r=e.reportArticle,n=e.unfollowUser,o=e.isCurrent,i=e.setAsCurrentArticle,a=e.unstarArticle,s=e.author,l=e.trackSharing,c=this.state.hasReadArticle,p=t.get("commentCount"),f=this._getUniqueCommentAnchor();return u(H.default,{tags:t.get("categories"),articleUrl:this._getArticleUrl(),articleTitle:t.get("title"),reportArticle:r},void 0,u(m.default,{fireOnRapidScroll:!1,onEnter:this._readArticle}),!o&&u("div",{className:"article__observer bottom"},void 0,u(m.default,{onEnter:i})),u("div",{className:"article__container"},void 0,u("div",{className:"article__footer__section vertical"},void 0,u("div",{className:"article__footer__prompt"},void 0,z,u(M.default,{showShareButton:!0,author:s,articleTitle:t.get("title"),fixedBottomRight:!1,uniqueCommentAnchor:f,hasLoggedIn:this._hasLoggedIn(),hasReadArticle:c,attemptToWriteComment:this._attemptToWriteComment({ref:D,type:T.ARTICLE_EVENT.CLICK_COMMENT}),star:this._starArticle(D),unstar:a,starred:t.get("starred"),starCount:t.get("starCount"),commentCount:p,trackSharing:function(){return l({ref:D})}}),X))),!this._isDiscussion()&&u("div",{className:"article__container"},void 0,u("div",{className:"article__footer__section"},void 0,u(A.default,{user:s,viewBySelf:this._checkOwnership({author:s}),following:t.get("followingAuthor"),unfollowAuthor:n,followAuthor:this._followAuthor(B)}))))}},{key:"_getArticleUrl",value:function(){var e=this.props,t=e.article,r=e.author;return v.default.codementorHost+"/"+r.get("username")+"/"+t.get("urlString")+"-"+t.get("randomKey")}},{key:"_isDiscussion",value:function(){return(this.props.article.get("categories")||(0,f.List)([])).some(function(e){return e.get("urlString")===K})}},{key:"_attemptToWriteComment",value:function(e){var t=this,r=e.ref,n=e.type,o=this.props.attemptToWriteComment;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.target,a=n===T.ARTICLE_EVENT.CLICK_COMMENT_REPLY;!t._hasLoggedIn()&&i&&a&&(e.preventDefault(),i.blur()),o({ref:r,type:n})}}},{key:"_goToTop",value:function(){y.window.scroll(0,0)}},{key:"_parseMarkdown",value:function(e){var t=e.get("content");if(t){var r=b.default.render(t);this.setState({htmlContent:r})}}},{key:"_parsePreviewContent",value:function(e){var t=e.get("previewContent")+" ...";if(t){var r=b.default.render(t);this.setState({previewHtmlContent:r})}}},{key:"_resetReadStatus",value:function(){this.setState({hasReadArticle:!1})}},{key:"_checkOwnership",value:function(e){var t=e.author;return this.props.currentUser.get("username")===t.get("username")}},{key:"_readArticle",value:function(){var e=this.props,t=e.readArticle,r=e.article,n=this.state.hasReadArticle,o=r.get("randomKey");!n&&o&&(t({articleId:o}),this.setState({hasReadArticle:!0}))}},{key:"_followAuthor",value:function(e){var t=this.props.attemptToFollow;return function(){return t(e)}}},{key:"_starArticle",value:function(e){var t=this.props.attemptToStar;return function(){return t(e)}}},{key:"_hasLoggedIn",value:function(){return!!this.props.currentUser.get("userId")}},{key:"_setReadingTimer",value:function(){var e=this,t=this.props.article;if(!this._readingTimer){if(t.get("isLoading"))return void setTimeout(function(){return e._setReadingTimer()},200);var r=t.get("content"),n=1e3*(0,h.estimatedReadTime)(r);this._readingTimer=setTimeout(function(){e._readArticle()},n)}}}]),t}(p.Component);J.propTypes=(l={article:p.PropTypes.instanceOf(f.Map).isRequired,author:p.PropTypes.instanceOf(f.Map).isRequired,currentUser:p.PropTypes.instanceOf(f.Map).isRequired,attemptToFollow:p.PropTypes.func.isRequired,attemptToStar:p.PropTypes.func.isRequired,unstarArticle:p.PropTypes.func.isRequired,unfollowUser:p.PropTypes.func.isRequired,readArticle:p.PropTypes.func.isRequired,reportArticle:p.PropTypes.func.isRequired,setAsCurrentArticle:p.PropTypes.func.isRequired,attemptToWriteComment:p.PropTypes.func.isRequired},o(l,"reportArticle",p.PropTypes.func.isRequired),o(l,"isCurrent",p.PropTypes.bool.isRequired),o(l,"trackSharing",p.PropTypes.func.isRequired),o(l,"isSuggestedArticle",p.PropTypes.bool.isRequired),l),t.default=J},1361:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(2)),p=r(5),f=r(6),d=n(f),m=r(15),h=n(m),y=r(912),_=n(y),v=r(22),g=n(v),b=r(416),T=n(b),C=s("div",{className:"engager__title"},void 0,"Enjoy this post?"),w=s("i",{className:"fa fa-share-square-o","aria-hidden":"true"}),P=s("span",{},void 0,"Share"),O=s("i",{className:"fa fa-times"}),S=s("div",{className:"engager__title"},void 0,"Was this helpful?"),A=s("p",{},void 0,"Share your thoughts with me!"),k=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._star=r._star.bind(r),r._toggleShareButtons=r._toggleShareButtons.bind(r),r._openTalkerBubble=r._openTalkerBubble.bind(r),r._forceCloseTalkerBubble=r._forceCloseTalkerBubble.bind(r),r._onClickComment=r._onClickComment.bind(r),r.state={tookAction:!1,manuallyOpenTalkerBubble:!1,forceCloseTalkerBubble:!1,displaySharingButtons:!1},r}return a(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.tookAction,r=e.displaySharingButtons,n=this.props,o=n.unstar,i=n.starred,a=n.starCount,l=n.commentCount,u=n.hasReadArticle,c=n.hasLoggedIn,p=n.author,f=n.fixedBottomRight,m=n.uniqueCommentAnchor,y=n.showShareButton,v=n.articleTitle,b=u&&!t,O=(0,d.default)("engager__hint",{"engager__hint--show":b||!f}),S=p.get("name")?p.get("name").split(" ")[0]:"the writer",A=(0,d.default)("article__engager",{offset:!c,"article__engager--fixed":f}),k=(0,d.default)("engager__sharing",{"engager__sharing--show":r});return s("div",{className:A},void 0,s("div",{className:"engager-bar__wrapper"},void 0,s("div",{className:O},void 0,s(g.default,{imgUrl:p.get("smallAvatarUrl"),userName:p.get("name"),componentClass:"engager"}),f?s("div",{className:"engager__hint__text"},void 0,C,s("p",{},void 0,"Leave a like and comment for ",s("strong",{},void 0,S))):s("p",{},void 0,"Enjoy this post? Give ",s("strong",{},void 0,p.get("name"))," a like if it's helpful.")),s("div",{className:"engager__actions"},void 0,s(T.default,{star:this._star,unstar:o,starred:i,count:a}),f?this._renderTalker():s("a",{className:"btn-frame-only engager__comment",href:"#"+m,onClick:this._onClickComment},void 0,s("img",{src:(0,h.default)("/Community/icon-comment.png")}),l>0&&s("span",{},void 0,l)),y&&s("div",{className:"btn-frame-only engager__share-btn",onClick:this._toggleShareButtons},void 0,w,P)),y&&s(_.default,{extraClasses:[k],shareTitle:v})))}},{key:"_focusOnCommentInput",value:function(){var e=this.props.uniqueCommentAnchor,t="#"+e+" textarea.reply-form__content",r=p.document.querySelector(t);setTimeout(function(){return r.focus()})}},{key:"_onClickComment",value:function(){var e=this.props,t=e.attemptToWriteComment,r=e.hasLoggedIn;this._forceCloseTalkerBubble(),t(),r&&this._focusOnCommentInput()}},{key:"_renderTalker",value:function(){var e=this.state,t=e.manuallyOpenTalkerBubble,r=e.forceCloseTalkerBubble,n=this.props,o=n.author,i=n.uniqueCommentAnchor,a=n.hasReadArticle,l=(a||t)&&!r,u=l?this._forceCloseTalkerBubble:this._openTalkerBubble;return s("div",{className:"engager__talker"},void 0,l&&s("div",{className:"engager__talker__bubble"},void 0,s("div",{className:"engager__talker__bubble__close",onClick:this._forceCloseTalkerBubble},void 0,O),S,A,s("a",{onClick:this._onClickComment,href:"#"+i,className:"engager__comment"},void 0,"Leave a reply")),s("div",{onClick:u,className:"engager__talker__trigger"},void 0,s(g.default,{imgUrl:o.get("smallAvatarUrl"),userName:o.get("name"),componentClass:"engager__talker"})))}},{key:"_openTalkerBubble",value:function(){this.setState({manuallyOpenTalkerBubble:!0,forceCloseTalkerBubble:!1})}},{key:"_forceCloseTalkerBubble",value:function(){this.setState({forceCloseTalkerBubble:!0})}},{key:"_toggleShareButtons",value:function(){var e=this.props.trackSharing,t=!this.state.displaySharingButtons;this.setState({displaySharingButtons:t}),t&&e&&e()}},{key:"_star",value:function(){var e=this.props.star;this._takeAction(),e()}},{key:"_takeAction",value:function(){this.setState({tookAction:!0})}}]),t}(u.Component);k.defaultProps={fixedBottomRight:!1,showShareButton:!1},k.propTypes={fixedBottomRight:u.PropTypes.bool.isRequired,showShareButton:u.PropTypes.bool.isRequired,author:u.PropTypes.instanceOf(c.Map).isRequired,star:u.PropTypes.func.isRequired,unstar:u.PropTypes.func.isRequired,starred:u.PropTypes.bool.isRequired,hasLoggedIn:u.PropTypes.bool.isRequired,hasReadArticle:u.PropTypes.bool.isRequired,starCount:u.PropTypes.number.isRequired,commentCount:u.PropTypes.number.isRequired,attemptToWriteComment:u.PropTypes.func.isRequired,uniqueCommentAnchor:u.PropTypes.string.isRequired,trackSharing:u.PropTypes.func,articleTitle:u.PropTypes.string},t.default=k},1362:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(2)),p=r(22),f=n(p),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,r=e.author;return s("div",{className:"article__bottom-bar"},void 0,s("div",{className:"article__bottom-bar__wrapper"},void 0,s(f.default,{imgUrl:r.get("smallAvatarUrl"),userName:r.get("name"),componentClass:"article__bottom-bar"}),s("div",{className:"bottom-bar__text"},void 0,"Discover and read more posts from"," ",s("strong",{},void 0,r.get("name"))),s("div",{className:"bottom-bar__action"},void 0,s("div",{className:"btn-primary",onClick:t},void 0,"get started"))))}}]),t}(u.Component);d.propTypes={author:u.PropTypes.instanceOf(c.Map).isRequired,onClick:u.PropTypes.func.isRequired},t.default=d},1363:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),u=(function(e){e&&e.__esModule}(l),a("div",{className:"article-placeholder"},void 0,a("div",{className:"article-placeholder__mask header-right"}),a("div",{className:"article-placeholder__mask header-bottom"}),a("div",{className:"article-placeholder__mask first-content-right"}),a("div",{className:"article-placeholder__mask first-content-bottom"}),a("div",{className:"article-placeholder__mask second-content-right"}))),c=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return u}}]),t}(l.Component);c.propTypes={},t.default=c},1364:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DISCUSSION_TAG=t.HACKER_NEWS_SUBMIT_LINK=void 0;var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),u=(function(e){e&&e.__esModule}(l),r(2)),c=r(37),p=t.HACKER_NEWS_SUBMIT_LINK="https://news.ycombinator.com/submitlink",f=t.DISCUSSION_TAG="discussion",d=a("div",{}),m=a("i",{className:"fa fa-flag-o","aria-hidden":"true"}),h=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.tags,n=e.reportArticle;return a("div",{className:"article__footer"},void 0,a("div",{className:"article__container"},void 0,a("div",{className:"article__footer__section"},void 0,this._isDiscussion()?d:a("i",{},void 0,a("a",{target:"_blank",className:"hn-link",href:this._getHnSubmissionLink()},void 0,"HN Submission/Discussion"))),a("div",{className:"article__footer__section"},void 0,a("div",{className:"article__tags"},void 0,!!r&&r.map(function(e){return a("a",{className:"btn--outline",href:"/community/topic/"+e.get("urlString")},(0,c.generateRandomId)(),e.get("name"))})),a("div",{className:"article__report",onClick:n},void 0,m,"Report"))),t)}},{key:"_getHnSubmissionLink",value:function(){var e=this.props,t=e.articleTitle,r=e.articleUrl,n=encodeURIComponent(r),o=encodeURIComponent(t);return p+"?u="+n+"&t="+o}},{key:"_isDiscussion",value:function(){return this.props.tags.some(function(e){return e.get("urlString")===f})}}]),t}(l.Component);h.propTypes={children:l.PropTypes.node,articleTitle:l.PropTypes.string.isRequired,articleUrl:l.PropTypes.string.isRequired,reportArticle:l.PropTypes.func.isRequired,tags:l.PropTypes.instanceOf(u.List).isRequired},h.defaultProps={tags:(0,u.List)([])},t.default=h},1365:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{articleMap:e.article.get("articleMap"),currentUser:e.currentUser}}Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleCommentsContainer=t.ACTION_REF=t.EVENT_PREFIX=void 0;var l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(0),p=(n(c),r(2)),f=r(44),d=r(7),m=r(3),h=n(m),y=r(58),_=r(59),v=r(88),g=r(936),b=r(417),T=r(1366),C=n(T),w=t.EVENT_PREFIX="Article::",P=t.ACTION_REF="end-of-artilce",O=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._openAuthModal=r._openAuthModal.bind(r),r._createComment=r._createComment.bind(r),r._updateComment=r._updateComment.bind(r),r._removeComment=r._removeComment.bind(r),r._attemptToLikeComment=r._attemptToLikeComment.bind(r),r._attemptToWriteComment=r._attemptToWriteComment.bind(r),r._getMoreComments=r._getMoreComments.bind(r),r}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,r=e.reportArticleComment,n=this._getCurrentArticle(),o=n.get("comments");return l("div",{className:"article__container",id:this._getUniqueCommentAnchor()},void 0,!!o&&l(C.default,{comments:o,currentUser:t,commentCount:n.get("commentCount"),isLoadingComment:n.get("isLoadingComment"),noMoreComments:n.get("noMoreComments"),reportComment:r,onTryToReply:this._attemptToWriteComment,createComment:this._createComment,getMoreComments:this._getMoreComments,updateComment:this._updateComment,removeComment:this._removeComment,createCommentLike:this._attemptToLikeComment}))}},{key:"_attemptToWriteComment",value:function(e){this._hasLoggedIn()||(this._openAuthModal(),e.preventDefault(),e.target.blur()),this._trackIntention({type:g.ARTICLE_EVENT.CLICK_COMMENT_REPLY,ref:P})}},{key:"_getUniqueCommentAnchor",value:function(){return"comments-"+this.props.currentArticleId}},{key:"_getCurrentArticle",value:function(){var e=this.props,t=e.currentArticleId;return e.articleMap.get(t)||(0,p.Map)()}},{key:"_createComment",value:function(e){var t=e.content,r=e.parentCommentId,n=this.props.currentArticleId;(0,this.props.createArticleComment)({articleId:n,content:t,parentCommentId:r}),this._trackIntention({type:g.ARTICLE_EVENT.SUBMIT_COMMENT,ref:P})}},{key:"_updateComment",value:function(e){var t=e.content,r=e.commentId,n=e.parentCommentId,o=this.props.currentArticleId;(0,this.props.updateArticleComment)({content:t,articleId:o,commentId:r,parentCommentId:n})}},{key:"_removeComment",value:function(e){var t=e.commentId,r=e.parentCommentId,n=this.props.currentArticleId;(0,this.props.removeArticleComment)({articleId:n,commentId:t,parentCommentId:r})}},{key:"_attemptToLikeComment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.commentId,r=e.parentCommentId,n=this.props.currentArticleId,o=this.props.createCommentLike;this._hasLoggedIn()?o({commentId:t,parentCommentId:r,articleId:n}):this._openAuthModal()}},{key:"_getMoreComments",value:function(e){var t=e.beforeTimestamp,r=this.props.currentArticleId;(0,this.props.getArticleComments)({articleId:r,beforeTimestamp:t})}},{key:"_trackIntention",value:function(e){var t=e.type,r=e.ref,n=this.props.currentArticleId;t&&this.props.trackEvent(_.TRACKING_METHODS.AMPLITUDE_EVENT,""+w+t,{articleRandomKey:n,ref:r})}},{key:"_openAuthModal",value:function(){var e=this.props.openAuthModalWithSettings,t=this._getCurrentPath();e({authType:v.AUTH_TYPES.SOCIAL_SIGNIN,authTarget:v.AUTH_TARGETS.CM,trackingEventPrefix:w,redirectToWhenLogin:t,oauthOrigin:""+h.default.codementorHost+t})}},{key:"_getCurrentPath",value:function(){var e=this._getCurrentArticle();return"/"+e.get("author").get("username")+"/"+e.get("urlString")+"-"+e.get("randomKey")}},{key:"_hasLoggedIn",value:function(){return!!this.props.currentUser.get("userId")}}]),t}(c.Component);O.propTypes={articleMap:c.PropTypes.instanceOf(p.Map).isRequired,currentUser:c.PropTypes.instanceOf(p.Map).isRequired,currentArticleId:c.PropTypes.string.isRequired,openAuthModalWithSettings:c.PropTypes.func.isRequired,trackEvent:c.PropTypes.func.isRequired,getArticleComments:c.PropTypes.func.isRequired,createArticleComment:c.PropTypes.func.isRequired,updateArticleComment:c.PropTypes.func.isRequired,removeArticleComment:c.PropTypes.func.isRequired,createCommentLike:c.PropTypes.func.isRequired,reportArticleComment:c.PropTypes.func.isRequired},t.ArticleCommentsContainer=O,t.default=(0,f.connect)(s,{trackEvent:_.trackEvent,openAuthModalWithSettings:y.openAuthModalWithSettings,getArticleComments:b.getArticleComments,createArticleComment:b.createArticleComment,updateArticleComment:b.updateArticleComment,removeArticleComment:b.removeArticleComment,createCommentLike:b.createCommentLike,reportArticleComment:b.reportArticleComment})((0,d.withRouter)(O))},1366:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=n(u),p=r(2),f=r(5),d=r(15),m=n(d),h=r(1367),y=n(h),_=r(1181),v=n(_),g=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._getMoreComments=r._getMoreComments.bind(r),r.state={replyToCommentId:null},r}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.commentCount,r=e.comments,n=e.currentUser,o=e.onTryToReply,i=e.createComment,a=e.isLoadingComment,l=e.noMoreComments;return s("div",{className:"article__comments",id:"comments"},void 0,s("div",{className:"article-comments__thread"},void 0,t>0?s("div",{className:"article-comments__thread__header"},void 0,s("img",{src:(0,m.default)("/Community/icon-comment.png")}),t,s("span",{},void 0,t>1?"Replies":"Reply")):s("div",{className:"article-comments__thread__header"},void 0,s("img",{src:(0,m.default)("/Community/icon-comment.png")}),"Be the first to share your opinion"),s(v.default,{currentUser:n,onClick:o,onSubmit:i}),this._renderComments({comments:r})),!l&&s("div",{className:"article-comments__load-more",onClick:this._getMoreComments},void 0,a?"loading...":"Show more replies"))}},{key:"_renderComments",value:function(e){var t=this,r=e.comments,n=e.parentCommentId,o=void 0===n?null:n,i=this.props,a=i.currentUser,l=i.onTryToReply,u=this.state.replyToCommentId;return r.map(function(e){var r=e.get("childComments"),n=e.get("randomKey"),i=e.get("user")||a,p=u===n,f=a.get("username")===i.get("username");return s(y.default,{payload:e,author:i,isAuthor:f,toggleReplyForm:t._toggleReplyForm({commentId:o||n}),reportComment:t._reportComment({commentId:n}),removeComment:t._removeComment({commentId:n,parentCommentId:o}),updateComment:t._updateComment({commentId:n,parentCommentId:o}),createLike:t._createCommentLike({commentId:n,parentCommentId:o})},n,r&&r.size?t._renderComments({comments:r,parentCommentId:n}):null,p&&c.default.createElement(v.default,{ref:"replyComment",currentUser:a,onClick:l,onSubmit:t._createCommentReply({commentId:n})}))})}},{key:"_getMoreComments",value:function(){var e=this.props,t=e.getMoreComments,r=e.comments,n=r.last();if(n){t({beforeTimestamp:n.get("createdAt")})}}},{key:"_removeComment",value:function(e){var t=e.commentId,r=e.parentCommentId,n=this.props.removeComment;return function(){f.window.confirm("Are you sure you want to delete your reply?")&&n({commentId:t,parentCommentId:r})}}},{key:"_reportComment",value:function(e){var t=e.commentId,r=this.props.reportComment;return function(){f.window.confirm("Are you sure you want to report this reply?")&&r({commentId:t})}}},{key:"_updateComment",value:function(e){var t=e.commentId,r=e.parentCommentId,n=this.props.updateComment;return function(e){var o=e.content;n({commentId:t,content:o,parentCommentId:r})}}},{key:"_createCommentLike",value:function(e){var t=e.commentId,r=e.parentCommentId,n=this.props.createCommentLike;return function(){return n({commentId:t,parentCommentId:r})}}},{key:"_toggleReplyForm",value:function(e){var t=this,r=e.commentId;return function(){t.setState({replyToCommentId:r},function(){t._focusReplyForm()})}}},{key:"_focusReplyForm",value:function(){var e=this.refs.replyComment;e&&e.focus()}},{key:"_createCommentReply",value:function(e){var t=this,r=e.commentId,n=this.props.createComment;return function(e){var o=e.content;n({parentCommentId:r,content:o}),t._resetReplyToComment()}}},{key:"_resetReplyToComment",value:function(){this.setState({replyToCommentId:null})}}]),t}(u.Component);g.propTypes={currentUser:u.PropTypes.instanceOf(p.Map).isRequired,commentCount:u.PropTypes.number.isRequired,comments:u.PropTypes.instanceOf(p.List).isRequired,createComment:u.PropTypes.func.isRequired,createCommentLike:u.PropTypes.func.isRequired,onTryToReply:u.PropTypes.func.isRequired,updateComment:u.PropTypes.func.isRequired,removeComment:u.PropTypes.func.isRequired,reportComment:u.PropTypes.func.isRequired,isLoadingComment:u.PropTypes.bool.isRequired,noMoreComments:u.PropTypes.bool.isRequired,getMoreComments:u.PropTypes.func.isRequired},t.default=g},1367:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.markdownParser=t.HAS_PROFILE_OWNER_TYPE=void 0;var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=n(u),p=r(23),f=n(p),d=r(2),m=r(119),h=n(m),y=r(1368),_=n(y),v=r(1181),g=n(v),b=r(22),T=n(b),C=r(146),w=n(C),P=t.HAS_PROFILE_OWNER_TYPE="User",O=t.markdownParser=new h.default({linkify:!0,html:!1,breaks:!0,typographer:!0}),S=s("i",{className:"fa fa-link","aria-hidden":"true"}),A=s("i",{className:"fa fa-angle-down","aria-hidden":"true"}),k=s("i",{className:"fa fa-pencil","aria-hidden":"true"}),I=s("i",{className:"fa fa-trash-o","aria-hidden":"true"}),R=s("i",{className:"fa fa-flag","aria-hidden":"true"}),E=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._toggleHelpers=r._toggleHelpers.bind(r),r._toggleEditMode=r._toggleEditMode.bind(r),r._removeComment=r._removeComment.bind(r),r._reportComment=r._reportComment.bind(r),r._updateComment=r._updateComment.bind(r),r.state={isEditMode:!1,showHelpers:!1,htmlContent:""},r}return a(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props.payload;e&&this._setCommentContent(e.get("content"))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.payload.get("content"),r=e.payload.get("content");t!==r&&this._setCommentContent(r)}},{key:"render",value:function(){var e=this.state.isEditMode,t=this.props,r=t.payload,n=t.children,o=t.author,i=this._getAnchorLink();return s("div",{className:"article-comment",id:i},void 0,this._hasProfile()?s("a",{href:"/"+o.get("username")},void 0,s(T.default,{imgUrl:o.get("smallAvatarUrl"),userName:o.get("name"),componentClass:"article-comment"})):s(T.default,{imgUrl:o.get("smallAvatarUrl"),userName:o.get("name"),componentClass:"article-comment"}),s("div",{className:"article-comment__body"},void 0,e?c.default.createElement(g.default,{editMode:!0,ref:"replyForm",currentContent:r.get("content"),currentUser:o,onCancel:this._toggleEditMode,onSubmit:this._updateComment}):this._renderComment(),n&&s("div",{className:"article-comment__child"},void 0,n)))}},{key:"_setCommentContent",value:function(e){var t=O.render(e);this.setState({htmlContent:t})}},{key:"_hasProfile",value:function(){return this.props.payload.get("ownerType")===P}},{key:"_renderComment",value:function(){var e=this.state,t=e.showHelpers,r=e.htmlContent,n=this.props,o=n.payload,i=n.author,a=n.createLike,l=n.toggleReplyForm,u=this._getAnchorLink();return s("div",{className:"article-comment__container"},void 0,s("div",{className:"article-comment__info"},void 0,s("div",{className:"article-comment__name"},void 0,this._hasProfile()?s("a",{href:"/"+i.get("username")},void 0,i.get("name")):s("span",{},void 0,i.get("name"))),s("div",{className:"article-comment__timestamp"},void 0,f.default.unix(o.get("createdAt")).fromNow()),s("a",{href:"#"+u,className:"article-comment__anchor"},void 0,S),s("div",{className:"article-comment__helpers"},void 0,s("div",{className:"helper-trigger",onClick:this._toggleHelpers},void 0,A),t&&this._rendeHelpers())),s("div",{className:"article-comment__content",dangerouslySetInnerHTML:{__html:r}}),s(_.default,{liked:o.get("liked"),likeCount:o.get("likeCount"),toggleReplyForm:l,createLike:a}))}},{key:"_rendeHelpers",value:function(){var e=this.props.isAuthor;return s(w.default,{onClickOutside:this._toggleHelpers,className:"helper-dropdown"},void 0,e?s("div",{className:"help-dropdown__item-wrapper"},void 0,s("div",{className:"helper-dropdown__item",onClick:this._toggleEditMode},void 0,k,"Edit"),s("div",{className:"helper-dropdown__item",onClick:this._removeComment},void 0,I,"Delete")):s("div",{className:"helper-dropdown__item",onClick:this._reportComment},void 0,R,"Report"))}},{key:"_getAnchorLink",value:function(){return"comment-"+this.props.payload.get("randomKey")}},{key:"_toggleEditMode",value:function(){var e=this,t=!this.state.isEditMode;this.setState({isEditMode:t},function(){t&&(e._toggleHelpers(),e._focusOnForm())})}},{key:"_focusOnForm",value:function(){var e=this.refs.replyForm;e&&e.focus()}},{key:"_updateComment",value:function(e){var t=e.content;(0,this.props.updateComment)({content:t}),this._toggleEditMode()}},{key:"_removeComment",value:function(){(0,this.props.removeComment)(),this._toggleHelpers()}},{key:"_reportComment",value:function(){(0,this.props.reportComment)(),this._toggleHelpers()}},{key:"_toggleHelpers",value:function(){var e=!this.state.showHelpers;this.setState({showHelpers:e})}}]),t}(u.Component);E.propTypes={children:u.PropTypes.node,payload:u.PropTypes.instanceOf(d.Map).isRequired,author:u.PropTypes.instanceOf(d.Map).isRequired,isAuthor:u.PropTypes.bool.isRequired,createLike:u.PropTypes.func.isRequired,toggleReplyForm:u.PropTypes.func.isRequired,removeComment:u.PropTypes.func.isRequired,updateComment:u.PropTypes.func.isRequired,reportComment:u.PropTypes.func.isRequired},t.default=E},1368:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(6)),p=n(c),f=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._createLike=r._createLike.bind(r),r}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.liked,r=e.likeCount,n=e.toggleReplyForm,o=(0,p.default)("fa",{"fa-heart":t,"fa-heart-o":!t});return s("div",{className:"article-comment__footer-actions"},void 0,s("div",{className:"footer-actions__item",onClick:this._createLike},void 0,s("i",{className:o,"aria-hidden":"true"}),s("div",{className:"footer-actions__like-count"},void 0,r>0?r:null)),s("div",{className:"footer-actions__item",onClick:n},void 0,"Reply"))}},{key:"_createLike",value:function(){var e=this.props,t=e.liked,r=e.createLike;t||r()}}]),t}(u.Component);f.propTypes={createLike:u.PropTypes.func.isRequired,liked:u.PropTypes.bool.isRequired,likeCount:u.PropTypes.number.isRequired,toggleReplyForm:u.PropTypes.func.isRequired},t.default=f},1369:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HERO_IMAGES=void 0;var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=n(u),p=r(912),f=n(p),d=r(1137),m=n(d),h=r(115),y=n(h),_=t.HERO_IMAGES=["https://media.giphy.com/media/11sBLVxNs7v6WA/giphy.gif","https://media.giphy.com/media/FlWgXEtj5aM5G/giphy.gif","https://media.giphy.com/media/qIXVd1RoKGqlO/giphy.gif","https://media.giphy.com/media/3o7ZeIvEj1Ff6NG8Yo/giphy.gif"],v=s("h1",{},void 0,"Your post is published!"),g=s("p",{},void 0,"Share it on social media using the links below"),b=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={heroImage:r._getRandomImage()},r}return a(t,e),l(t,[{key:"open",value:function(){this.modal.open()}},{key:"render",value:function(){var e=this,t=this.state.heroImage,r=this.props.url;return c.default.createElement(y.default,{ref:function(t){return e.modal=t},className:"share-article"},s("img",{src:t}),v,g,s(f.default,{shareUrl:r}),s(m.default,{link:r}))}},{key:"_getRandomImage",value:function(){return _[Math.floor(Math.random()*_.length)]}}]),t}(u.Component);b.propTypes={url:u.PropTypes.string},t.default=b},1370:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(150)),p=n(c),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.enable,n=e.available,o=e.onLoad;return s("div",{},void 0,t,r&&n&&s("div",{className:"article__infinite-loading__trigger"},void 0,s(p.default,{fireOnRapidScroll:!1,onEnter:o})))}}]),t}(u.Component);f.propTypes={children:u.PropTypes.node.isRequired,onLoad:u.PropTypes.func.isRequired,enable:u.PropTypes.bool.isRequired,available:u.PropTypes.bool.isRequired},t.default=f},1371:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),u=(function(e){e&&e.__esModule}(l),a("br",{})),c=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.authorName,r=e.onClose,n=e.onOpen,o=t.split(" ")[0];return a("div",{className:"article__onboarding-hint"},void 0,a("div",{className:"hint__title"},void 0,"You're following ",o,"!",u,"What else are you interested in?"),a("div",{className:"hint__body"},void 0,"You'll find ",o,"'s posts in your personal reading list. Let us know what else you’re interested in to personalize your experience."),a("div",{className:"hint__footer"},void 0,a("div",{className:"hint__footer__skip",onClick:r},void 0,"later"),a("div",{className:"btn-primary",onClick:n},void 0,"choose now")))}}]),t}(l.Component);c.propTypes={onClose:l.PropTypes.func.isRequired,onOpen:l.PropTypes.func.isRequired,authorName:l.PropTypes.string.isRequired},t.default=c},1372:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.WIDGET_KINDS=t.END_OF_ARTICLE=void 0;var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(2)),p=r(1077),f=n(p),d=r(1139),m=n(d),h=r(1373),y=n(h),_=t.END_OF_ARTICLE="end-of-artilce",v=t.WIDGET_KINDS=3,g=s(f.default,{}),b=s("p",{},void 0,"Share insights from your software ",s("strong",{},void 0,"development journey")),T=s("p",{},void 0,"Join and start ",s("strong",{},void 0,"discussions")," with fellow developers"),C=s(f.default,{}),w=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){return s("div",{className:"article__outlet"},void 0,this._renderOutletItem())}},{key:"_renderOutletItem",value:function(){var e=this.props,t=e.articleIndex,r=e.hasLoggedIn;switch(t){case 0:return r?this._renderRelatedPosts():g;default:return this._renderWidgets(t)}}},{key:"_renderWidgets",value:function(e){var t=this.props.attemptToWrite;switch(e%v){case 0:return s(y.default,{buttonText:"write a post",imagePath:"ArticleEditor/preview.png",onClick:function(){return t({ref:_})}},void 0,b);case 1:return s(y.default,{className:"start-discussion",buttonText:"start a discussion",imagePath:"Community/discussion-cateogries.png",onClick:function(){return t({ref:_,isDicussion:!0})}},void 0,T);case 2:return C}}},{key:"_renderRelatedPosts",value:function(){var e=this.props.article,t=e.get("relatedArticles");return t&&t.size>0?s(m.default,{posts:t}):null}}]),t}(u.Component);w.propTypes={article:u.PropTypes.instanceOf(c.Map).isRequired,hasLoggedIn:u.PropTypes.bool.isRequired,articleIndex:u.PropTypes.number.isRequired,attemptToWrite:u.PropTypes.func.isRequired},t.default=w},1373:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(15)),p=n(c),f=r(395),d=n(f),m=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,r=e.imagePath,n=e.children,o=e.buttonText,i=e.className;return s("div",{className:"article__write-post "+i},void 0,s("div",{className:"article__write-post__left"},void 0,n,s("div",{onClick:t,className:"btn-secondary btn-secondary--outline"},void 0,o)),s(d.default,{src:(0,p.default)(r)}))}}]),t}(u.Component);m.propTypes={onClick:u.PropTypes.func,className:u.PropTypes.string.isRequired,imagePath:u.PropTypes.string.isRequired,children:u.PropTypes.node.isRequired,buttonText:u.PropTypes.string.isRequired},m.defaultProps={className:""},t.default=m},1374:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(15)),p=n(c),f=r(319),d=n(f),m=s("div",{className:"header-notification-summary__pad"},void 0,s("span",{},void 0,"Community Notifications")),h=s("h5",{},void 0,"Ready to get started?"),y=s("p",{},void 0,"Personalize your reading experience by letting us know what you're interested in."),_=s("div",{className:"header-notification-summary__community-icon"}),v=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._resetBadge=r._resetBadge.bind(r),r._renderLeadingIcon=r._renderLeadingIcon.bind(r),r.state={badge:1},r}return a(t,e),l(t,[{key:"render",value:function(){var e=this.state.badge,t=this.props,r=t.useLightTheme,n=t.callToAction;return s(d.default,{useLightTheme:!!r,LeadingIcon:this._renderLeadingIcon,badgeNumber:e,onOpen:this._resetBadge},void 0,m,s("div",{className:"header-notification-summary__notifications"},void 0,s("div",{className:"header-notification__empty anonymous"},void 0,s("img",{src:(0,p.default)("Notification/community-get-started.png")}),h,y,s("div",{className:"btn-primary",onClick:n},void 0,"Follow topics"))))}},{key:"_resetBadge",value:function(){this.setState({badge:0})}},{key:"_renderLeadingIcon",value:function(){return _}}]),t}(u.Component);v.propTypes={useLightTheme:u.PropTypes.bool,callToAction:u.PropTypes.func.isRequired},t.default=v},1375:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(2)),p=r(37),f=r(144),d=n(f),m=r(983),h=n(m),y=r(1136),_=n(y),v=r(1180),g=n(v),b=r(395),T=n(b),C=r(1076),w=n(C),P=s("div",{className:"article__draft-label"},void 0,"draft"),O=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={htmlContent:""},r}return a(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props.article;e&&this._parseMarkdown(e)}},{key:"render",value:function(){var e=this.props,t=e.article,r=e.currentUser,n=e.signout,o=e.openAuthModal,i=this.state.htmlContent,a=t.get("categories"),l=t.get("author");return s("div",{className:"article",id:"post-"+t.get("randomKey")},void 0,s(g.default,{author:l,article:t}),s(h.default,{currentUser:r,openAuthModal:o,signout:n},void 0,P,s(_.default,{noActions:!0,minimized:!0,viewBySelf:this._checkOwnership({author:l}),user:l})),s("div",{className:"article__container"},void 0,s("div",{className:"article__header"},void 0,s(w.default,{article:t}),s("h1",{},void 0,t.get("title"))),s(T.default,{className:"article__cover-photo",alt:t.get("title"),src:t.get("coverPhotoUrl")}),s("div",{className:"article__body",dangerouslySetInnerHTML:{__html:i}}),s("div",{className:"article__footer"},void 0,s("div",{className:"article__footer__section"},void 0,s("div",{className:"article__tags"},void 0,!!a&&a.map(function(e){return s("a",{className:"btn--outline",href:"/community/topic/"+e.get("urlString")},(0,p.generateRandomId)(),e.get("name"))}))))))}},{key:"_checkOwnership",value:function(e){var t=e.author;return this.props.currentUser.get("username")===t.get("username")}},{key:"_parseMarkdown",value:function(e){var t=e.get("content");if(t){var r=d.default.render(t);this.setState({htmlContent:r})}}}]),t}(u.Component);O.propTypes={article:u.PropTypes.instanceOf(c.Map).isRequired,currentUser:u.PropTypes.instanceOf(c.Map).isRequired,openAuthModal:u.PropTypes.func.isRequired,signout:u.PropTypes.func.isRequired},t.default=O},876:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.split("-");return t[t.length-1]}function l(e){return{community:e.community,communityOnboarding:e.communityOnboarding,article:e.article,currentUser:e.currentUser,notifications:e.notifications}}Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleContainer=t.PRESERVE_ONBOARDING=t.INFINITE_VIEW_TYPE=t.LANDING_VIEW_TYPE=t.END_OF_ARTICLE=t.FIXED_TOP_MENU_REF=t.SEARCH_PATH=t.WRITE_DISCUSSION_PATH=t.WRITE_POST_PATH=t.REPORT_EVENT=t.EVENT_PREFIX=void 0;var u=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=r(0),f=n(p),d=r(44),m=r(2),h=r(7),y=r(89),_=n(y),v=r(5),g=r(3),b=n(g),T=r(420),C=n(T),w=r(58),P=r(88),O=r(1359),S=r(936),A=r(147),k=r(417),I=r(396),R=r(321),E=r(397),N=r(92),M=r(59),j=r(1360),L=n(j),q=r(1054),U=n(q),x=r(1365),H=n(x),W=r(1369),B=n(W),D=r(983),F=n(D),K=r(1136),$=n(K),V=r(1370),Y=n(V),G=r(1067),z=n(G),X=r(1371),J=n(X),Z=r(1372),Q=n(Z),ee=r(320),te=n(ee),re=r(1374),ne=n(re),oe=t.EVENT_PREFIX="Article::",ie=t.REPORT_EVENT="report",ae=t.WRITE_POST_PATH="/posts/new",se=t.WRITE_DISCUSSION_PATH="/posts/new?type=discussion",le=t.SEARCH_PATH="/community/search",ue=t.FIXED_TOP_MENU_REF="fixed-top-menu",ce=(t.END_OF_ARTICLE="end-of-artilce",t.LANDING_VIEW_TYPE="landing"),pe=t.INFINITE_VIEW_TYPE="infinite-scroll",fe=t.PRESERVE_ONBOARDING="ONBOARDING",de=u(U.default,{}),me=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._signout=r._signout.bind(r),r._openAuthModal=r._openAuthModal.bind(r),r._unfollowUser=r._unfollowUser.bind(r),r._attemptToStar=r._attemptToStar.bind(r),r._unstarArticle=r._unstarArticle.bind(r),r._openOnboardingModal=r._openOnboardingModal.bind(r),r._closeOnboardingHint=r._closeOnboardingHint.bind(r),r._reportArticle=r._reportArticle.bind(r),r._attemptToFollow=r._attemptToFollow.bind(r),r._attemptToWriteComment=r._attemptToWriteComment.bind(r),r._attemptToWrite=r._attemptToWrite.bind(r),r._attemptToFollowTopics=r._attemptToFollowTopics.bind(r),r._readArticle=r._readArticle.bind(r),r._setAsCurrentArticle=r._setAsCurrentArticle.bind(r),r._trackSharing=r._trackSharing.bind(r),r._onSearch=r._onSearch.bind(r),r.state={showOnboardingHint:!1,showOnboardingModal:!1,initialArticleId:"",currentPath:e.location.pathname},r}return a(t,e),c(t,null,[{key:"fetchData",value:function(e){var t=e.store,r=e.params,n=r.urlString,o=s(n);if(o){var i=!!t.getState().currentUser.get("userId"),a=[t.dispatch((0,A.getArticleWithAuthor)({articleId:o})),t.dispatch((0,k.getArticleComments)({articleId:o}))];return i&&a.push(t.dispatch((0,E.getOnboardingState)())),_.default.join.apply(_.default,a)}}}]),c(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.params.urlString,r=e.location.query,n=e.getOnboardingState,o=e.getSuggestedArticles,i=s(t);i&&(this._refreshArticle({articleId:i}),this._viewArticle({articleId:i,ref:ce}),this._rememberInitialArticle({articleId:i})),this._hasLoggedIn()?(n(),this._checkAfterSigninActions()):o({articleId:i}),"1"===r.published&&this._openShareModalForAuthor()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.params,r=t.urlString,n=e.params.urlString,o=s(n);r!==n&&o&&(this._refreshArticle({articleId:o}),this._viewArticle({articleId:o,ref:ce}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.currentUser,n=t.notifications,o=t.updateCommunityReadTimestamp,i=t.getCommunityNotifications,a=t.setNextSuggestedArticle,s=this.state,l=s.showOnboardingHint,c=s.showOnboardingModal,p=this._getArticles(),d=this._getCurrentArticle(),y=d.get("randomKey"),_=d.get("author")||(0,m.Map)({}),v=_.get("username")===r.get("username"),g=this._hasLoggedIn();return u("div",{className:"article"},void 0,u(F.default,{currentUser:r,openAuthModal:this._openAuthModal,signout:this._signout},void 0,u($.default,{minimized:!0,viewBySelf:v,following:d.get("followingAuthor"),user:_,unfollowAuthor:this._unfollowUser({username:_.get("username"),articleId:y}),followAuthor:function(){return e._attemptToFollow({username:_.get("username"),articleId:y})(ue)}}),u(z.default,{onSearch:this._onSearch}),g?u(te.default,{useLightTheme:!0,notifications:n,updateReadTimestamp:o,getNotifications:i}):u(ne.default,{useLightTheme:!0,callToAction:this._attemptToFollowTopics}),v&&u(h.Link,{className:"edit-post",to:"/posts/"+y+"/edit"},void 0,"Edit"),u("div",{className:"write-a-post",onClick:function(){return e._attemptToWrite({ref:ue})}},void 0,"Write a post")),l&&u(J.default,{onClose:this._closeOnboardingHint,onOpen:this._openOnboardingModal,authorName:_.get("name")}),u(Y.default,{enable:!g,available:!p.some(function(e){return e.get("isLoading")}),onLoad:a},void 0,p.map(function(t,n){var o=t.get("randomKey"),i=t.get("author")||(0,m.Map)({}),a=t.get("urlString"),s=i.get("username"),l=y===o;return u("div",{},o,u(L.default,{article:t,author:i,isSuggestedArticle:0!==n,isCurrent:l,currentUser:r,setAsCurrentArticle:e._setAsCurrentArticle({articleId:o,username:s,urlString:a}),reportArticle:e._reportArticle({articleId:o}),unstarArticle:e._unstarArticle({articleId:o}),readArticle:e._readArticle({articleId:o}),attemptToStar:e._attemptToStar({articleId:o}),attemptToFollow:e._attemptToFollow({username:s,articleId:o}),unfollowUser:e._unfollowUser({username:s,articleId:o}),trackSharing:e._trackSharing,attemptToWriteComment:e._attemptToWriteComment}),u("div",{},void 0,!t.get("previewMode")&&u(H.default,{currentArticleId:o}),u(Q.default,{article:t,articleIndex:n,attemptToWrite:e._attemptToWrite,hasLoggedIn:e._hasLoggedIn()})))})),f.default.createElement(B.default,{url:this._getSharingPath(),ref:function(t){return e.shareModal=t}}),c&&de)}},{key:"_attemptToFollowTopics",value:function(){var e=this.props.preserveAfterSigninAction;this._hasLoggedIn()||(this._openAuthModal(),this._trackIntention({type:O.COMMUNITY_EVENT.CLICK_FOLLOW_TOPICS,ref:ue}),e({actionType:fe}))}},{key:"_closeOnboardingHint",value:function(){this.setState({showOnboardingHint:!1})}},{key:"_onSearch",value:function(e){var t=e.keyword;this.props.router.push(le+"?q="+t)}},{key:"_openShareModalForAuthor",value:function(){var e=this.props.currentUser,t=this._getCurrentArticle();e.get("username")===t.getIn(["author","username"])&&this.shareModal.open()}},{key:"_getSharingPath",value:function(){var e=this.props.location;return""+b.default.codementorHost+e.pathname}},{key:"_getArticles",value:function(){var e=this.props.article.get("articleMap");return this._hasLoggedIn()?e.valueSeq().take(1):e.valueSeq()}},{key:"_getCurrentArticle",value:function(){var e=this.props.article,t=e.get("articleMap"),r=e.get("currentArticleId");return t.get(r)||this._getArticles().first()}},{key:"_rememberInitialArticle",value:function(e){var t=e.articleId;this.setState({initialArticleId:t})}},{key:"_setAsCurrentArticle",value:function(e){var t=this,r=e.articleId,n=e.username,o=e.urlString,i=this.props,a=i.setCurrentArticleId,s=i.article,l="/"+n+"/"+o+"-"+r,u=!!s.getIn(["articleMap",r,"content"]);return function(){var e=s.get("currentArticleId"),o=r===e;r&&n&&!o&&(u||(t._refreshArticle({articleId:r}),t._trackViewingSuggestedArticle({articleId:r,path:l})),a({articleId:r}),t._storeCurrentPath(l),t._updateUrlOnly(l))}}},{key:"_storeCurrentPath",value:function(e){this.setState({currentPath:e})}},{key:"_trackViewingSuggestedArticle",value:function(e){var t=e.articleId,r=e.path,n=this.state.initialArticleId,o=r+"?icn=from-post-"+n;C.default.viewPage(o),this._viewArticle({articleId:t,ref:pe})}},{key:"_updateUrlOnly",value:function(e){v.window.history.pushState("","",e)}},{key:"_attemptToWrite",value:function(e){var t=e.ref,r=e.isDicussion,n=void 0!==r&&r,o=this.props.router,i=this._hasLoggedIn(),a=n?{type:S.ARTICLE_EVENT.CLICK_START_DISCUSSION,path:se}:{type:S.ARTICLE_EVENT.CLICK_WRITE_POST,path:ae},s=a.type,l=a.path;this._trackIntention({type:s,ref:t}),i?o.push(l):this._openAuthModal({redirectToWhenLogin:l})}},{key:"_refreshArticle",value:function(e){var t=e.articleId,r=this.props,n=r.getArticleWithAuthor,o=r.getArticleComments;n({articleId:t}),o({articleId:t})}},{key:"_viewArticle",value:function(e){var t=e.articleId,r=e.ref;(0,this.props.recordArticleView)({articleId:t}),this._trackIntention({type:S.ARTICLE_EVENT.VIEW,articleId:t,ref:r})}},{key:"_showOnboardingHint",value:function(){this.props.communityOnboarding.get("onboardingCompleted")||this.setState({showOnboardingHint:!0})}},{key:"_openOnboardingModal",value:function(){this.setState({showOnboardingModal:!0}),this._closeOnboardingHint(),this._trackIntention({type:O.COMMUNITY_EVENT.OPEN_ONBOARDING})}},{key:"_readArticle",value:function(e){var t=this,r=e.articleId;return function(){(0,t.props.recordArticleRead)({articleId:r})}}},{key:"_checkAfterSigninActions",value:function(){(0,this.props.checkAfterSigninAction)({callback:this._execAfterSigninAction()})}},{key:"_followUser",value:function(e){var t=e.username,r=e.articleId;(0,this.props.followUser)({username:t,articleId:r}),this._showOnboardingHint()}},{key:"_attemptToFollow",value:function(e){var t=this,r=e.username,n=e.articleId;return function(e){var o=t.props.preserveAfterSigninAction;t._trackIntention({type:S.ARTICLE_EVENT.CLICK_FOLLOW,ref:e}),t._hasLoggedIn()?t._followUser({username:r,articleId:n}):(t._openAuthModal(),o({actionType:I.PRESERVABLE_ACTIONS.FOLLOW_AUTHOR,username:r,articleId:n}))}}},{key:"_attemptToWriteComment",value:function(e){var t=e.ref,r=e.type,n=r===S.ARTICLE_EVENT.CLICK_COMMENT_REPLY;!this._hasLoggedIn()&&n&&this._openAuthModal(),this._trackIntention({type:r,ref:t})}},{key:"_unfollowUser",value:function(e){var t=e.username,r=e.articleId,n=this.props.unfollowUser;return function(){n({username:t,articleId:r})}}},{key:"_starArticle",value:function(e){var t=e.articleId;(0,this.props.starArticle)({articleId:t})}},{key:"_attemptToStar",value:function(e){var t=this,r=e.articleId;return function(e){var n=t.props.preserveAfterSigninAction;t._trackIntention({type:S.ARTICLE_EVENT.CLICK_LIKE,ref:e}),t._hasLoggedIn()?t._starArticle({articleId:r}):(t._openAuthModal(),n({actionType:I.PRESERVABLE_ACTIONS.STAR_ARTICLE,articleId:r}))}}},{key:"_unstarArticle",value:function(e){var t=this,r=e.articleId;return function(){(0,t.props.unstarArticle)({articleId:r})}}},{key:"_reportArticle",value:function(e){var t=this,r=e.articleId;return function(){var e=t.props.reportArticle,n=v.window.confirm("Are you sure you want to report this post?");t._trackReport(),n&&e({articleId:r})}}},{key:"_trackReport",value:function(){var e=ie;this._trackIntention({type:e,ref:"bottom"})}},{key:"_trackSharing",value:function(e){var t=e.ref,r=S.ARTICLE_EVENT.CLICK_SHARE;this._trackIntention({type:r,ref:t})}},{key:"_trackIntention",value:function(e){var t=e.type,r=e.ref,n=e.articleId,o=this.props.article,i=o.get("currentArticleId"),a=n||i;t&&this.props.trackEvent(M.TRACKING_METHODS.AMPLITUDE_EVENT,""+oe+t,{articleRandomKey:a,ref:r})}},{key:"_execAfterSigninAction",value:function(){var e=this,t=this.props.removeAfterSigninAction;return function(r){if(r){var n=r.articleId,o=r.username;switch(r.actionType){case I.PRESERVABLE_ACTIONS.STAR_ARTICLE:e._starArticle({articleId:n});break;case I.PRESERVABLE_ACTIONS.FOLLOW_AUTHOR:e._followUser({articleId:n,username:o});break;case fe:e._openOnboardingModal()}t()}}}},{key:"_openAuthModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirectToWhenLogin,r=void 0===t?"":t,n=this.props.openAuthModalWithSettings,o=this.state.currentPath,i=r||o;n({authType:P.AUTH_TYPES.SOCIAL_SIGNIN,authTarget:P.AUTH_TARGETS.CM,trackingEventPrefix:oe,redirectToWhenLogin:i,oauthOrigin:""+b.default.codementorHost+i})}},{key:"_signout",value:function(){var e=this.props,t=e.location;(0,e.signout)({redirectTo:t.pathname})}},{key:"_hasLoggedIn",value:function(){return!!this.props.currentUser.get("userId")}}]),t}(p.Component);me.propTypes={params:p.PropTypes.object,location:p.PropTypes.object.isRequired,router:p.PropTypes.object.isRequired,community:p.PropTypes.instanceOf(m.Map).isRequired,communityOnboarding:p.PropTypes.instanceOf(m.Map).isRequired,article:p.PropTypes.instanceOf(m.Map).isRequired,currentUser:p.PropTypes.instanceOf(m.Map).isRequired,notifications:p.PropTypes.instanceOf(m.Map).isRequired,getArticleWithAuthor:p.PropTypes.func.isRequired,followUser:p.PropTypes.func.isRequired,starArticle:p.PropTypes.func.isRequired,unstarArticle:p.PropTypes.func.isRequired,unfollowUser:p.PropTypes.func.isRequired,trackEvent:p.PropTypes.func.isRequired,signout:p.PropTypes.func.isRequired,recordArticleView:p.PropTypes.func.isRequired,recordArticleRead:p.PropTypes.func.isRequired,preserveAfterSigninAction:p.PropTypes.func.isRequired,removeAfterSigninAction:p.PropTypes.func.isRequired,checkAfterSigninAction:p.PropTypes.func.isRequired,openAuthModalWithSettings:p.PropTypes.func.isRequired,getOnboardingState:p.PropTypes.func.isRequired,getArticleComments:p.PropTypes.func.isRequired,reportArticle:p.PropTypes.func.isRequired,setCurrentArticleId:p.PropTypes.func.isRequired,getSuggestedArticles:p.PropTypes.func.isRequired,setNextSuggestedArticle:p.PropTypes.func.isRequired,getCommunityNotifications:p.PropTypes.func.isRequired,updateCommunityReadTimestamp:p.PropTypes.func.isRequired},t.ArticleContainer=me,t.default=(0,d.connect)(l,{getArticleWithAuthor:A.getArticleWithAuthor,signout:w.signout,followUser:N.followUser,starArticle:A.starArticle,unstarArticle:A.unstarArticle,unfollowUser:N.unfollowUser,trackEvent:M.trackEvent,recordArticleView:I.recordArticleView,recordArticleRead:I.recordArticleRead,preserveAfterSigninAction:I.preserveAfterSigninAction,checkAfterSigninAction:I.checkAfterSigninAction,removeAfterSigninAction:I.removeAfterSigninAction,openAuthModalWithSettings:w.openAuthModalWithSettings,getOnboardingState:E.getOnboardingState,getArticleComments:k.getArticleComments,reportArticle:A.reportArticle,setCurrentArticleId:A.setCurrentArticleId,getSuggestedArticles:A.getSuggestedArticles,setNextSuggestedArticle:A.setNextSuggestedArticle,getCommunityNotifications:R.getCommunityNotifications,updateCommunityReadTimestamp:R.updateCommunityReadTimestamp})((0,h.withRouter)(me))},877:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{article:e.article,currentUser:e.currentUser}}Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleDraftContainer=t.EVENT_PREFIX=void 0;var l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(0),p=(n(c),r(44)),f=r(2),d=r(7),m=r(58),h=r(88),y=r(147),_=r(1375),v=n(_),g=t.EVENT_PREFIX="ArticleDraft::",b=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._signout=r._signout.bind(r),r._openAuthModal=r._openAuthModal.bind(r),r}return a(t,e),u(t,null,[{key:"fetchData",value:function(e){var t=e.store,r=e.params,n=r.articleId;if(n)return t.dispatch((0,y.getArticleWithAuthor)({articleId:n,isDraft:!0}))}}]),u(t,[{key:"render",value:function(){var e=this.props,t=e.article,r=e.currentUser;return l(v.default,{currentUser:r,article:t.getIn(["articleMap",this._getArticleId()]),openAuthModal:this._openAuthModal,signout:this._signout})}},{key:"_getArticleId",value:function(){return this.props.params.articleId}},{key:"_signout",value:function(){var e=this.props,t=e.location;(0,e.signout)({redirectTo:t.pathname})}},{key:"_openAuthModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.AUTH_TYPES.SIGN_UP,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.AUTH_TARGETS.CM;(0,this.props.openAuthModalWithSettings)({authType:e,authTarget:t,trackingEventPrefix:g})}}]),t}(c.Component);b.propTypes={params:c.PropTypes.object,location:c.PropTypes.object.isRequired,article:c.PropTypes.instanceOf(f.Map).isRequired,currentUser:c.PropTypes.instanceOf(f.Map).isRequired,getArticleWithAuthor:c.PropTypes.func.isRequired,openAuthModalWithSettings:c.PropTypes.func.isRequired,signout:c.PropTypes.func.isRequired},t.ArticleDraftContainer=b,t.default=(0,p.connect)(s,{openAuthModalWithSettings:m.openAuthModalWithSettings,signout:m.signout,getArticleWithAuthor:y.getArticleWithAuthor})((0,d.withRouter)(b))},912:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(function(e){e&&e.__esModule}(u),r(5)),p=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){"object"==(void 0===c.addthis?"undefined":s(c.addthis))&&c.addthis.layers&&"function"==typeof c.addthis.layers.refresh&&c.addthis.layers.refresh()}},{key:"render",value:function(){var e=this.props,t=e.shareTitle,r=e.extraClasses,n=e.shareUrl,o="";return r&&(o=r.join(" ")),a("div",{className:"addthis_sharing_toolbox "+o,"data-url":n,"data-title":t})}}]),t}(u.Component);p.propTypes={shareUrl:u.PropTypes.string,shareTitle:u.PropTypes.string,extraClasses:u.PropTypes.array,config:u.PropTypes.object},t.default=p},936:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ARTICLE_EVENT={VIEW:"ViewPost",CLICK_FOLLOW:"ClickFollowBtn",CLICK_LIKE:"ClickLikeBtn",CLICK_SHARE:"ClickShareBtn",CLICK_COMMENT:"ClickCommentBtn",CLICK_COMMENT_REPLY:"ClickCommentReply",SUBMIT_COMMENT:"SubmitComment",CLICK_WRITE_POST:"ClickWritePostBtn",CLICK_START_DISCUSSION:"ClickStartDiscussionBtn",CLICK_IMPORT_POST:"ClickImportPostBtn",CLICK_LEARN_MORE_WRITING:"ClickLearnMoreWriting"}},983:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,o){var i=t&&t.defaultProps,a=arguments.length-3;if(r||0===a||(r={}),r&&i)for(var s in i)void 0===r[s]&&(r[s]=i[s]);else r||(r=i||{});if(1===a)r.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];r.children=l}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=(n(u),r(2)),p=r(7),f=r(1062),d=n(f),m=r(15),h=n(m),y=r(22),_=n(y),v=r(398),g=n(v),b=r(88),T=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,r=e.children,n=e.openAuthModal,o=e.signout,i=!!t.get("userId"),a="user"===t.get("level")||t.get("isUser");return s("div",{className:"article__menu"},void 0,s(d.default,{},void 0,s("div",{className:"article__menu__container"},void 0,s(p.Link,{to:"/community",title:"Codementor",className:"article__menu__logo"},void 0,s("img",{className:"medium-logo",src:(0,h.default)("Icons/blue/cm_community_blue.png")}),s("img",{className:"mini-logo",src:(0,h.default)("Icons/blue/icon_cm_v2.png")})),s("div",{className:"article__menu__child"},void 0,r),s("div",{className:"article__menu__settings"},void 0,i?s(g.default,{forMentee:a,username:t.get("username"),level:t.get("level"),signout:o,TriggerNode:function(){return s(_.default,{componentClass:"article__menu",imgUrl:t.get("smallAvatarUrl"),userName:t.get("name")})}}):s("div",{className:"article__menu__sign-in",onClick:function(){return n({authType:b.AUTH_TYPES.SOCIAL_SIGNIN,authTarget:b.AUTH_TARGETS.CM})}},void 0,"SIGN UP")))))}}]),t}(u.Component);T.propTypes={currentUser:u.PropTypes.instanceOf(c.Map).isRequired,openAuthModal:u.PropTypes.func.isRequired,signout:u.PropTypes.func.isRequired,children:u.PropTypes.node},t.default=T}});
//# sourceMappingURL=9.c2743aaaadb487565722.js.map